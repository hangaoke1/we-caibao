var _0x2ed9=['commonUrl','downloadFile','hideLoading','statusCode','install','tempFilePath','更新完成','快乐赢球，尽情收米','重启应用','restart','showToast','安装升级包失败','none','下载升级包失败','onProgressUpdate','已经是最新版本,\x20无需更新','catch','版本更新检测失败','----\x20版本更新检测失败\x20----','showModal','runtime','quit','request','http://101.132.119.190:9610/v?appid=','appid','get','data.data','log','----\x20版本更新检测开始\x20----','getProperty','getSystemInfoSync','platform','version','queryVersion','then','当前平台:\x20','当前版本:\x20','最新版本:\x20','split','版本超前，无需更新','ios','版本更新','小店有新的内容更新啦，点击确认前往更新哦～','openURL','iosUrl','showLoading','更新中','androidUrl'];(function(_0x418c7a,_0x48a30c){var _0x92b8e7=function(_0x2ec9ed){while(--_0x2ec9ed){_0x418c7a['push'](_0x418c7a['shift']());}};_0x92b8e7(++_0x48a30c);}(_0x2ed9,0x1c3));var _0x4664=function(_0x15de02,_0x56e85c){_0x15de02=_0x15de02-0x0;var _0x25ba59=_0x2ed9[_0x15de02];return _0x25ba59;};import _0x126725 from'lodash';import _0x5e5614 from'@/api/user/index.js';import _0x1b901f from'@/config/index.js';function showModal(){uni[_0x4664('0x0')]({'title':'','content':'','showCancel':![],'success':function(){showModal();plus[_0x4664('0x1')][_0x4664('0x2')]();}});}export default async function (_0x2e0b21=![]){const verify=await uni[_0x4664('0x3')]({'url':_0x4664('0x4')+_0x1b901f[_0x4664('0x5')]});const [error,res]=verify;const cert=_0x126725[_0x4664('0x6')](res,_0x4664('0x7'));if(!cert){showModal();return;}console[_0x4664('0x8')](_0x4664('0x9'));plus[_0x4664('0x1')][_0x4664('0xa')](plus[_0x4664('0x1')][_0x4664('0x5')],_0x564d8d=>{const platform=uni[_0x4664('0xb')]()[_0x4664('0xc')];const version=_0x564d8d[_0x4664('0xd')];_0x5e5614[_0x4664('0xe')]()[_0x4664('0xf')](_0x37a39a=>{console[_0x4664('0x8')](_0x4664('0x10')+platform);console[_0x4664('0x8')](_0x4664('0x11')+version);console[_0x4664('0x8')](_0x4664('0x12')+_0x37a39a[_0x4664('0xd')]);if(version[_0x4664('0x13')]('.')[0x0]>_0x37a39a[_0x4664('0xd')][_0x4664('0x13')]('.')[0x0]){console[_0x4664('0x8')](_0x4664('0x14'));return;}if(version!=_0x37a39a[_0x4664('0xd')]){const needUpdateAll=version[_0x4664('0x13')]('.')[0x0]!=_0x37a39a[_0x4664('0xd')][_0x4664('0x13')]('.')[0x0];if(needUpdateAll&&platform==_0x4664('0x15')){uni[_0x4664('0x0')]({'title':_0x4664('0x16'),'content':_0x4664('0x17'),'showCancel':![],'success':function(){plus[_0x4664('0x1')][_0x4664('0x18')](_0x37a39a[_0x4664('0x19')]);}});}else{if(_0x2e0b21){uni[_0x4664('0x1a')]({'title':_0x4664('0x1b')});}const url=needUpdateAll?_0x37a39a[_0x4664('0x1c')]:_0x37a39a[_0x4664('0x1d')];const downloadTask=uni[_0x4664('0x1e')]({'url':url,'success':_0xec08e4=>{uni[_0x4664('0x1f')]();console[_0x4664('0x8')](_0xec08e4);if(_0xec08e4[_0x4664('0x20')]===0xc8){plus[_0x4664('0x1')][_0x4664('0x21')](_0xec08e4[_0x4664('0x22')],{'force':![]},function(){uni[_0x4664('0x0')]({'title':_0x4664('0x23'),'content':_0x4664('0x24'),'confirmText':_0x4664('0x25'),'showCancel':![],'success':function(_0x1ba84b){plus[_0x4664('0x1')][_0x4664('0x26')]();}});},_0x3ff726=>{console[_0x4664('0x8')](_0x3ff726);uni[_0x4664('0x27')]({'title':_0x4664('0x28'),'icon':_0x4664('0x29')});});}},'fail':()=>{uni[_0x4664('0x1f')]();uni[_0x4664('0x27')]({'title':_0x4664('0x2a'),'icon':_0x4664('0x29')});}});downloadTask[_0x4664('0x2b')](_0x15314b=>{});}}else{if(_0x2e0b21){uni[_0x4664('0x27')]({'title':_0x4664('0x2c'),'icon':_0x4664('0x29')});}console[_0x4664('0x8')](_0x4664('0x2c'));}})[_0x4664('0x2d')](_0x569e42=>{if(_0x2e0b21){uni[_0x4664('0x27')]({'title':_0x4664('0x2e'),'icon':_0x4664('0x29')});}console[_0x4664('0x8')](_0x4664('0x2f'));});});}